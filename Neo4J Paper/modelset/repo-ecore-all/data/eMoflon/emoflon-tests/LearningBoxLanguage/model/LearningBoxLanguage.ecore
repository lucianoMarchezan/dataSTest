<?xml version="1.0" encoding="ASCII"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="LearningBoxLanguage" nsURI="http://www.moflon.org.LearningBoxLanguage" nsPrefix="LearningBoxLanguage">
  <eClassifiers xsi:type="ecore:EClass" name="Box">
    <eOperations name="addToStringRep">
      <eParameters name="card" eType="//Card"/>
    </eOperations>
    <eOperations name="grow">
      <eAnnotations source="SDM">
        <details key="XMI" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xA;&lt;activities:Activity xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:activities=&quot;http://www.moflon.org.SDMLanguage.activities&quot; xmlns:callExpressions=&quot;http://www.moflon.org.SDMLanguage.calls.callExpressions&quot; xmlns:ecore=&quot;http://www.eclipse.org/emf/2002/Ecore&quot; xmlns:patternExpressions=&quot;http://www.moflon.org.SDMLanguage.patterns.patternExpressions&quot;>&#xA;  &lt;owningOperation href=&quot;http://www.moflon.org.LearningBoxLanguage#//Box/grow&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StopNode&quot; incoming=&quot;//@ownedActivityEdge.0&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;addNewPartitionBox&quot; outgoing=&quot;//@ownedActivityEdge.0&quot; incoming=&quot;//@ownedActivityEdge.1&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;this&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.5&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0 //@ownedActivityNode.1/@storyPattern/@linkVariable.1&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Box&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;lastPartitionInBox&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.2 //@ownedActivityNode.1/@storyPattern/@linkVariable.3&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;nextPartition&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.2&quot; bindingSemantics=&quot;NEGATIVE&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;firstPartitionInBox&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.1 //@ownedActivityNode.1/@storyPattern/@linkVariable.6&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.4&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;previousPartition&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.4&quot; bindingSemantics=&quot;NEGATIVE&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;newPartition&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.3&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.5 //@ownedActivityNode.1/@storyPattern/@linkVariable.6&quot; bindingOperator=&quot;CREATE&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;        &lt;attributeAssignment>&#xA;          &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition/partitionSize&quot;/>&#xA;          &lt;valueExpression xsi:type=&quot;callExpressions:MethodCallExpression&quot;>&#xA;            &lt;callee href=&quot;http://www.moflon.org.LearningBoxLanguage#//Box/determineNextSize&quot;/>&#xA;            &lt;target xsi:type=&quot;patternExpressions:ObjectVariableExpression&quot; object=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot;/>&#xA;          &lt;/valueExpression>&#xA;        &lt;/attributeAssignment>&#xA;      &lt;/objectVariable>&#xA;      &lt;linkVariable name=&quot;containedPartition&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot;/>&#xA;      &lt;linkVariable name=&quot;containedPartition&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.3&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot;/>&#xA;      &lt;linkVariable name=&quot;next&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.2&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot;/>&#xA;      &lt;linkVariable name=&quot;next&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.5&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot; bindingOperator=&quot;CREATE&quot;/>&#xA;      &lt;linkVariable name=&quot;previous&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.4&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.3&quot;/>&#xA;      &lt;linkVariable name=&quot;box&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.5&quot; bindingOperator=&quot;CREATE&quot;/>&#xA;      &lt;linkVariable name=&quot;previous&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.3&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.5&quot; bindingOperator=&quot;CREATE&quot;/>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StartNode&quot; outgoing=&quot;//@ownedActivityEdge.1&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.1&quot; target=&quot;//@ownedActivityNode.0&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.2&quot; target=&quot;//@ownedActivityNode.1&quot;/>&#xA;&lt;/activities:Activity>&#xA;"/>
      </eAnnotations>
    </eOperations>
    <eOperations name="toString">
      <eAnnotations source="SDM">
        <details key="XMI" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xA;&lt;activities:Activity xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:activities=&quot;http://www.moflon.org.SDMLanguage.activities&quot; xmlns:callExpressions=&quot;http://www.moflon.org.SDMLanguage.calls.callExpressions&quot; xmlns:ecore=&quot;http://www.eclipse.org/emf/2002/Ecore&quot; xmlns:expressions=&quot;http://www.moflon.org.SDMLanguage.expressions&quot; xmlns:patternExpressions=&quot;http://www.moflon.org.SDMLanguage.patterns.patternExpressions&quot;>&#xA;  &lt;owningOperation href=&quot;http://www.moflon.org.LearningBoxLanguage#//Box/toString&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StopNode&quot; incoming=&quot;//@ownedActivityEdge.1&quot;>&#xA;    &lt;returnValue xsi:type=&quot;patternExpressions:AttributeValueExpression&quot; object=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot;>&#xA;      &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Box/stringRep&quot;/>&#xA;    &lt;/returnValue>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;forAllPartitions&quot; outgoing=&quot;//@ownedActivityEdge.0 //@ownedActivityEdge.1&quot; incoming=&quot;//@ownedActivityEdge.3 //@ownedActivityEdge.5&quot; forEach=&quot;true&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;this&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Box&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;partition&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;linkVariable name=&quot;containedPartition&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot;/>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;forAllCards&quot; outgoing=&quot;//@ownedActivityEdge.2 //@ownedActivityEdge.3&quot; incoming=&quot;//@ownedActivityEdge.0 //@ownedActivityEdge.4&quot; forEach=&quot;true&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;partition&quot; outgoingLink=&quot;//@ownedActivityNode.2/@storyPattern/@linkVariable.0&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;card&quot; incomingLink=&quot;//@ownedActivityNode.2/@storyPattern/@linkVariable.0&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;linkVariable name=&quot;card&quot; target=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.1&quot; source=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.0&quot;/>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StatementNode&quot; name=&quot;&quot; outgoing=&quot;//@ownedActivityEdge.4&quot; incoming=&quot;//@ownedActivityEdge.2&quot;>&#xA;    &lt;statementExpression xsi:type=&quot;callExpressions:MethodCallExpression&quot;>&#xA;      &lt;ownedParameterBindings>&#xA;        &lt;valueExpression xsi:type=&quot;expressions:TextualExpression&quot; expressionText=&quot;card&quot;/>&#xA;      &lt;/ownedParameterBindings>&#xA;      &lt;callee href=&quot;http://www.moflon.org.LearningBoxLanguage#//Box/addToStringRep&quot;/>&#xA;      &lt;target xsi:type=&quot;patternExpressions:ObjectVariableExpression&quot; object=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot;/>&#xA;    &lt;/statementExpression>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StartNode&quot; outgoing=&quot;//@ownedActivityEdge.5&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.1&quot; target=&quot;//@ownedActivityNode.2&quot; guard=&quot;EACH_TIME&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.1&quot; target=&quot;//@ownedActivityNode.0&quot; guard=&quot;END&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.2&quot; target=&quot;//@ownedActivityNode.3&quot; guard=&quot;EACH_TIME&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.2&quot; target=&quot;//@ownedActivityNode.1&quot; guard=&quot;END&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.3&quot; target=&quot;//@ownedActivityNode.2&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.4&quot; target=&quot;//@ownedActivityNode.1&quot;/>&#xA;&lt;/activities:Activity>&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eOperations name="determineNextSize">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="containedPartition" upperBound="-1" eType="//Partition" containment="true" eOpposite="//Partition/box"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="stringRep" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Card">
    <eOperations name="invert">
      <eAnnotations source="SDM">
        <details key="XMI" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xA;&lt;activities:Activity xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:activities=&quot;http://www.moflon.org.SDMLanguage.activities&quot; xmlns:ecore=&quot;http://www.eclipse.org/emf/2002/Ecore&quot; xmlns:patternExpressions=&quot;http://www.moflon.org.SDMLanguage.patterns.patternExpressions&quot;>&#xA;  &lt;owningOperation href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/invert&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StopNode&quot; incoming=&quot;//@ownedActivityEdge.0&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;swapVariables&quot; outgoing=&quot;//@ownedActivityEdge.0&quot; incoming=&quot;//@ownedActivityEdge.1&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;temp&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;this&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;        &lt;attributeAssignment>&#xA;          &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/face&quot;/>&#xA;          &lt;valueExpression xsi:type=&quot;patternExpressions:AttributeValueExpression&quot; object=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot;>&#xA;            &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/back&quot;/>&#xA;          &lt;/valueExpression>&#xA;        &lt;/attributeAssignment>&#xA;        &lt;attributeAssignment>&#xA;          &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/back&quot;/>&#xA;          &lt;valueExpression xsi:type=&quot;patternExpressions:AttributeValueExpression&quot; object=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot;>&#xA;            &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/face&quot;/>&#xA;          &lt;/valueExpression>&#xA;        &lt;/attributeAssignment>&#xA;      &lt;/objectVariable>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;initializeTemp&quot; outgoing=&quot;//@ownedActivityEdge.1&quot; incoming=&quot;//@ownedActivityEdge.2&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;this&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;temp&quot; bindingOperator=&quot;CREATE&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;        &lt;attributeAssignment>&#xA;          &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/face&quot;/>&#xA;          &lt;valueExpression xsi:type=&quot;patternExpressions:AttributeValueExpression&quot; object=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot;>&#xA;            &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/face&quot;/>&#xA;          &lt;/valueExpression>&#xA;        &lt;/attributeAssignment>&#xA;        &lt;attributeAssignment>&#xA;          &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/back&quot;/>&#xA;          &lt;valueExpression xsi:type=&quot;patternExpressions:AttributeValueExpression&quot; object=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot;>&#xA;            &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/back&quot;/>&#xA;          &lt;/valueExpression>&#xA;        &lt;/attributeAssignment>&#xA;      &lt;/objectVariable>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StartNode&quot; outgoing=&quot;//@ownedActivityEdge.2&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.1&quot; target=&quot;//@ownedActivityNode.0&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.2&quot; target=&quot;//@ownedActivityNode.1&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.3&quot; target=&quot;//@ownedActivityNode.2&quot;/>&#xA;&lt;/activities:Activity>&#xA;"/>
      </eAnnotations>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="cardContainer" lowerBound="1" eType="//Partition" eOpposite="//Partition/card"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="back" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="face" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="color" ordered="false" lowerBound="1" eType="//CardColor"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="CardColor">
    <eLiterals name="RED"/>
    <eLiterals name="GREEN" value="1"/>
    <eLiterals name="BLUE" value="2"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="FastCard" eSuperTypes="//Card"/>
  <eClassifiers xsi:type="ecore:EClass" name="Partition">
    <eOperations name="removeCard" eType="//Card">
      <eAnnotations source="SDM">
        <details key="XMI" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xA;&lt;activities:Activity xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:activities=&quot;http://www.moflon.org.SDMLanguage.activities&quot; xmlns:ecore=&quot;http://www.eclipse.org/emf/2002/Ecore&quot; xmlns:patternExpressions=&quot;http://www.moflon.org.SDMLanguage.patterns.patternExpressions&quot;>&#xA;  &lt;owningOperation href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition/removeCard&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StopNode&quot; incoming=&quot;//@ownedActivityEdge.0&quot;>&#xA;    &lt;returnValue xsi:type=&quot;patternExpressions:ObjectVariableExpression&quot; object=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot;/>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;removeCard&quot; outgoing=&quot;//@ownedActivityEdge.0&quot; incoming=&quot;//@ownedActivityEdge.1&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;this&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;card&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0&quot; bindingOperator=&quot;DESTROY&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;linkVariable name=&quot;card&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot; bindingOperator=&quot;DESTROY&quot;/>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StartNode&quot; outgoing=&quot;//@ownedActivityEdge.1&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.1&quot; target=&quot;//@ownedActivityNode.0&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.2&quot; target=&quot;//@ownedActivityNode.1&quot;/>&#xA;&lt;/activities:Activity>&#xA;"/>
      </eAnnotations>
      <eParameters name="card" eType="//Card"/>
    </eOperations>
    <eOperations name="check">
      <eAnnotations source="SDM">
        <details key="XMI" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xA;&lt;activities:Activity xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:activities=&quot;http://www.moflon.org.SDMLanguage.activities&quot; xmlns:callExpressions=&quot;http://www.moflon.org.SDMLanguage.calls.callExpressions&quot; xmlns:ecore=&quot;http://www.eclipse.org/emf/2002/Ecore&quot; xmlns:expressions=&quot;http://www.moflon.org.SDMLanguage.expressions&quot; xmlns:patternExpressions=&quot;http://www.moflon.org.SDMLanguage.patterns.patternExpressions&quot;>&#xA;  &lt;owningOperation href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition/check&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StopNode&quot; incoming=&quot;//@ownedActivityEdge.0 //@ownedActivityEdge.1&quot;>&#xA;    &lt;returnValue xsi:type=&quot;expressions:LiteralExpression&quot; value=&quot;true&quot;/>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;promoteFastCard&quot; outgoing=&quot;//@ownedActivityEdge.0&quot; incoming=&quot;//@ownedActivityEdge.2&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;fastcard&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0 //@ownedActivityNode.1/@storyPattern/@linkVariable.1&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//FastCard&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;this&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.2&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;lastPartition&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.1&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.3 //@ownedActivityNode.1/@storyPattern/@linkVariable.4&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;next&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.4&quot; bindingSemantics=&quot;NEGATIVE&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;box&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.2 //@ownedActivityNode.1/@storyPattern/@linkVariable.3&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Box&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;linkVariable name=&quot;cardContainer&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot; bindingOperator=&quot;DESTROY&quot;/>&#xA;      &lt;linkVariable name=&quot;cardContainer&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.2&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot; bindingOperator=&quot;CREATE&quot;/>&#xA;      &lt;linkVariable name=&quot;box&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.4&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot;/>&#xA;      &lt;linkVariable name=&quot;box&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.4&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.2&quot;/>&#xA;      &lt;linkVariable name=&quot;next&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.3&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.2&quot;/>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;promoteCard&quot; outgoing=&quot;//@ownedActivityEdge.1&quot; incoming=&quot;//@ownedActivityEdge.3&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;card&quot; outgoingLink=&quot;//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.1&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;this&quot; incomingLink=&quot;//@ownedActivityNode.2/@storyPattern/@linkVariable.0&quot; outgoingLink=&quot;//@ownedActivityNode.2/@storyPattern/@linkVariable.2&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;nextPartition&quot; incomingLink=&quot;//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;linkVariable name=&quot;cardContainer&quot; target=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.1&quot; source=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.0&quot; bindingOperator=&quot;DESTROY&quot;/>&#xA;      &lt;linkVariable name=&quot;cardContainer&quot; target=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.2&quot; source=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.0&quot; bindingOperator=&quot;CREATE&quot;/>&#xA;      &lt;linkVariable name=&quot;next&quot; target=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.2&quot; source=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.1&quot;/>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;isFastCard&quot; outgoing=&quot;//@ownedActivityEdge.2 //@ownedActivityEdge.3&quot; incoming=&quot;//@ownedActivityEdge.5&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;fastcard&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//FastCard&quot;/>&#xA;        &lt;bindingExpression xsi:type=&quot;patternExpressions:ObjectVariableExpression&quot; object=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.0&quot;/>&#xA;      &lt;/objectVariable>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StopNode&quot; incoming=&quot;//@ownedActivityEdge.4&quot;>&#xA;    &lt;returnValue xsi:type=&quot;expressions:LiteralExpression&quot; value=&quot;false&quot;/>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;penalizeCard&quot; outgoing=&quot;//@ownedActivityEdge.4&quot; incoming=&quot;//@ownedActivityEdge.6&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;card&quot; outgoingLink=&quot;//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;this&quot; incomingLink=&quot;//@ownedActivityNode.5/@storyPattern/@linkVariable.0&quot; outgoingLink=&quot;//@ownedActivityNode.5/@storyPattern/@linkVariable.2&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;previousPartition&quot; incomingLink=&quot;//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;linkVariable name=&quot;cardContainer&quot; target=&quot;//@ownedActivityNode.5/@storyPattern/@objectVariable.1&quot; source=&quot;//@ownedActivityNode.5/@storyPattern/@objectVariable.0&quot; bindingOperator=&quot;DESTROY&quot;/>&#xA;      &lt;linkVariable name=&quot;cardContainer&quot; target=&quot;//@ownedActivityNode.5/@storyPattern/@objectVariable.2&quot; source=&quot;//@ownedActivityNode.5/@storyPattern/@objectVariable.0&quot; bindingOperator=&quot;CREATE&quot;/>&#xA;      &lt;linkVariable name=&quot;previous&quot; target=&quot;//@ownedActivityNode.5/@storyPattern/@objectVariable.2&quot; source=&quot;//@ownedActivityNode.5/@storyPattern/@objectVariable.1&quot;/>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;checkIfGuessIsCorrect&quot; outgoing=&quot;//@ownedActivityEdge.5 //@ownedActivityEdge.6&quot; incoming=&quot;//@ownedActivityEdge.7&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;card&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;        &lt;constraint>&#xA;          &lt;constraintExpression xsi:type=&quot;expressions:ComparisonExpression&quot; operator=&quot;EQUAL&quot;>&#xA;            &lt;rightExpression xsi:type=&quot;callExpressions:ParameterExpression&quot;>&#xA;              &lt;parameter href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition/check/guessed&quot;/>&#xA;            &lt;/rightExpression>&#xA;            &lt;leftExpression xsi:type=&quot;patternExpressions:AttributeValueExpression&quot; object=&quot;//@ownedActivityNode.2/@storyPattern/@objectVariable.0&quot;>&#xA;              &lt;attribute href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card/back&quot;/>&#xA;            &lt;/leftExpression>&#xA;          &lt;/constraintExpression>&#xA;        &lt;/constraint>&#xA;      &lt;/objectVariable>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StartNode&quot; outgoing=&quot;//@ownedActivityEdge.7&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.1&quot; target=&quot;//@ownedActivityNode.0&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.2&quot; target=&quot;//@ownedActivityNode.0&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.3&quot; target=&quot;//@ownedActivityNode.1&quot; guard=&quot;SUCCESS&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.3&quot; target=&quot;//@ownedActivityNode.2&quot; guard=&quot;FAILURE&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.5&quot; target=&quot;//@ownedActivityNode.4&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.6&quot; target=&quot;//@ownedActivityNode.3&quot; guard=&quot;SUCCESS&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.6&quot; target=&quot;//@ownedActivityNode.5&quot; guard=&quot;FAILURE&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.7&quot; target=&quot;//@ownedActivityNode.6&quot;/>&#xA;&lt;/activities:Activity>&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="card" eType="//Card"/>
      <eParameters name="guessed">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
    </eOperations>
    <eOperations name="empty">
      <eAnnotations source="SDM">
        <details key="XMI" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xA;&lt;activities:Activity xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:activities=&quot;http://www.moflon.org.SDMLanguage.activities&quot; xmlns:ecore=&quot;http://www.eclipse.org/emf/2002/Ecore&quot;>&#xA;  &lt;owningOperation href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition/empty&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StopNode&quot; incoming=&quot;//@ownedActivityEdge.0&quot;/>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StoryNode&quot; name=&quot;deleteCardsInPartition&quot; outgoing=&quot;//@ownedActivityEdge.0&quot; incoming=&quot;//@ownedActivityEdge.1&quot; forEach=&quot;true&quot;>&#xA;    &lt;storyPattern>&#xA;      &lt;objectVariable name=&quot;this&quot; outgoingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0&quot; bindingState=&quot;BOUND&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Partition&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;objectVariable name=&quot;card&quot; incomingLink=&quot;//@ownedActivityNode.1/@storyPattern/@linkVariable.0&quot; bindingOperator=&quot;DESTROY&quot;>&#xA;        &lt;type xsi:type=&quot;ecore:EClass&quot; href=&quot;http://www.moflon.org.LearningBoxLanguage#//Card&quot;/>&#xA;      &lt;/objectVariable>&#xA;      &lt;linkVariable name=&quot;card&quot; target=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.1&quot; source=&quot;//@ownedActivityNode.1/@storyPattern/@objectVariable.0&quot; bindingOperator=&quot;DESTROY&quot;/>&#xA;    &lt;/storyPattern>&#xA;  &lt;/ownedActivityNode>&#xA;  &lt;ownedActivityNode xsi:type=&quot;activities:StartNode&quot; outgoing=&quot;//@ownedActivityEdge.1&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.1&quot; target=&quot;//@ownedActivityNode.0&quot; guard=&quot;END&quot;/>&#xA;  &lt;ownedActivityEdge source=&quot;//@ownedActivityNode.2&quot; target=&quot;//@ownedActivityNode.1&quot;/>&#xA;&lt;/activities:Activity>&#xA;"/>
      </eAnnotations>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="box" eType="//Box" eOpposite="//Box/containedPartition"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="card" upperBound="-1" eType="//Card" containment="true" eOpposite="//Card/cardContainer"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="next" eType="//Partition"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="previous" eType="//Partition"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="index" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="partitionSize" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EDataType" name="Writer" instanceClassName="java.io.Writer"/>
</ecore:EPackage>
